"use strict";var e=Object.defineProperty,t=Object.defineProperties,s=Object.getOwnPropertyDescriptors,o=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,i=(t,s,o)=>s in t?e(t,s,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[s]=o,n=(e,t)=>{for(var s in t||(t={}))r.call(t,s)&&i(e,s,t[s]);if(o)for(var s of o(t))a.call(t,s)&&i(e,s,t[s]);return e},c=require("../../common/vendor.js");const l={name:"my-settle",data:()=>({second:3,timer:null}),methods:(d=n({},c.mapMutations(["updataAllGoodsState","updataRedirect"])),h={changeAllGoodsState(){console.log(!this.isFull),this.updataAllGoodsState(!this.isFull)},settlement(){return 0==this.checkedCount?c.index.$showMsg("请勾选商品"):"{}"==JSON.stringify(this.address)?c.index.$showMsg("请选择收货地址"):void(this.token||(this.delayNavigate(),console.log("请登录")))},showTips(e){c.index.showToast({title:"等待"+e+"秒后跳转至登录页面",mask:!0,duration:1500,icon:"none"})},delayNavigate(){this.showTips(this.second),this.timer=setInterval((()=>{if(this.second--,this.second<=0)return clearInterval(this.timer),c.index.switchTab({url:"/pages/my/my",success:e=>{this.updataRedirect({openType:"switchTab",from:"/pages/cart/cart"})}}),void(this.second=3);this.showTips(this.second)}),1e3)}},t(d,s(h))),computed:n(n({},c.mapGetters(["checkedCount","isFull","checkoutAllGoodsAmount"])),c.mapState(["address","token"])),created(){}};var d,h;var u=c._export_sfc(l,[["render",function(e,t,s,o,r,a){return{a:e.isFull,b:c.o(((...e)=>a.changeAllGoodsState&&a.changeAllGoodsState(...e))),c:c.t(e.checkoutAllGoodsAmount),d:c.t(e.checkedCount),e:c.o(((...e)=>a.settlement&&a.settlement(...e)))}}]]);wx.createComponent(u);
